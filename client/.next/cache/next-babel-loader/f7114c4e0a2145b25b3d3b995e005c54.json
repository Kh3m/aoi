{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { initStore } from \"../store\";\nimport * as actionTypes from \"../actions/actionTypes\";\nconst initialState = {\n  auth: {\n    isAuth: false,\n    data: {},\n    errors: null,\n    loading: false\n  }\n};\n\nconst configureAuth = () => {\n  const userActions = {\n    [actionTypes.AUTH_START]: state => {\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: _objectSpread(_objectSpread({}, state.auth), {}, {\n          loading: true\n        })\n      });\n    },\n    [actionTypes.AUTH_RESPONSE]: (state, data) => {\n      console.log(\"AUTH_RESPONSE\", data);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: _objectSpread(_objectSpread({}, state.auth), {}, {\n          data: _objectSpread(_objectSpread({}, state.auth.data), data),\n          isAuth: true,\n          loading: false\n        })\n      });\n    },\n    [actionTypes.AUTH_ERROR]: (state, errors) => {\n      console.log(errors);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: _objectSpread(_objectSpread({}, state.auth), {}, {\n          errors: errors,\n          isAuth: false,\n          loading: false\n        })\n      });\n    },\n    [actionTypes.AUTH_LOGOUT]: state => {\n      return _objectSpread(_objectSpread({}, state), {}, {\n        auth: _objectSpread(_objectSpread({}, state.auth), {}, {\n          data: {\n            profile: {\n              imageUrl: \"\",\n              displayName: \"\"\n            }\n          },\n          errors: null,\n          isAuth: false,\n          loading: false\n        })\n      });\n    }\n  };\n  initStore(initialState, userActions);\n};\n\nexport default configureAuth;","map":{"version":3,"sources":["C:/Users/Kh3m/Documents/projects/austinExpress/client/hooks/store/reducers/auth.js"],"names":["initStore","actionTypes","initialState","auth","isAuth","data","errors","loading","configureAuth","userActions","AUTH_START","state","AUTH_RESPONSE","console","log","AUTH_ERROR","AUTH_LOGOUT","profile","imageUrl","displayName"],"mappings":";;;;;;AACA,SAASA,SAAT,QAA0B,UAA1B;AACA,OAAO,KAAKC,WAAZ,MAA6B,wBAA7B;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE;AACFC,IAAAA,MAAM,EAAE,KADN;AAEFC,IAAAA,IAAI,EAAE,EAFJ;AAGFC,IAAAA,MAAM,EAAE,IAHN;AAIFC,IAAAA,OAAO,EAAE;AAJP;AADW,CAArB;;AASA,MAAMC,aAAa,GAAG,MAAM;AACxB,QAAMC,WAAW,GAAG;AAChB,KAACR,WAAW,CAACS,UAAb,GAA2BC,KAAD,IAAW;AACjC,6CAAYA,KAAZ;AAAmBR,QAAAA,IAAI,kCAAMQ,KAAK,CAACR,IAAZ;AAAkBI,UAAAA,OAAO,EAAE;AAA3B;AAAvB;AACH,KAHe;AAIhB,KAACN,WAAW,CAACW,aAAb,GAA6B,CAACD,KAAD,EAAQN,IAAR,KAAiB;AAC1CQ,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BT,IAA7B;AACA,6CAAYM,KAAZ;AAAmBR,QAAAA,IAAI,kCAAOQ,KAAK,CAACR,IAAb;AAAmBE,UAAAA,IAAI,kCAAOM,KAAK,CAACR,IAAN,CAAWE,IAAlB,GAA2BA,IAA3B,CAAvB;AAA0DD,UAAAA,MAAM,EAAE,IAAlE;AAAwEG,UAAAA,OAAO,EAAE;AAAjF;AAAvB;AACH,KAPe;AAQhB,KAACN,WAAW,CAACc,UAAb,GAA0B,CAACJ,KAAD,EAAQL,MAAR,KAAmB;AACzCO,MAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ;AACA,6CAAYK,KAAZ;AAAmBR,QAAAA,IAAI,kCAAOQ,KAAK,CAACR,IAAb;AAAmBG,UAAAA,MAAM,EAAEA,MAA3B;AAAmCF,UAAAA,MAAM,EAAE,KAA3C;AAAkDG,UAAAA,OAAO,EAAE;AAA3D;AAAvB;AACH,KAXe;AAYhB,KAACN,WAAW,CAACe,WAAb,GAA4BL,KAAD,IAAW;AAClC,6CAAYA,KAAZ;AAAmBR,QAAAA,IAAI,kCAAOQ,KAAK,CAACR,IAAb;AAAmBE,UAAAA,IAAI,EAAC;AAACY,YAAAA,OAAO,EAAE;AAACC,cAAAA,QAAQ,EAAE,EAAX;AAAeC,cAAAA,WAAW,EAAE;AAA5B;AAAV,WAAxB;AAAoEb,UAAAA,MAAM,EAAE,IAA5E;AAAkFF,UAAAA,MAAM,EAAE,KAA1F;AAAiGG,UAAAA,OAAO,EAAE;AAA1G;AAAvB;AACH;AAde,GAApB;AAiBAP,EAAAA,SAAS,CAACE,YAAD,EAAeO,WAAf,CAAT;AACH,CAnBD;;AAqBA,eAAeD,aAAf","sourcesContent":["\r\nimport { initStore } from \"../store\";\r\nimport * as actionTypes from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n    auth: {\r\n        isAuth: false,\r\n        data: {},\r\n        errors: null,\r\n        loading: false\r\n    }\r\n}\r\n\r\nconst configureAuth = () => {\r\n    const userActions = {\r\n        [actionTypes.AUTH_START]: (state) => {\r\n            return { ...state, auth: {...state.auth, loading: true }};\r\n        },\r\n        [actionTypes.AUTH_RESPONSE]: (state, data) => {\r\n            console.log(\"AUTH_RESPONSE\", data);\r\n            return { ...state, auth: { ...state.auth, data: { ...state.auth.data, ...data }, isAuth: true, loading: false }}\r\n        },\r\n        [actionTypes.AUTH_ERROR]: (state, errors) => {\r\n            console.log(errors)\r\n            return { ...state, auth: { ...state.auth, errors: errors, isAuth: false, loading: false}}\r\n        },\r\n        [actionTypes.AUTH_LOGOUT]: (state) => {\r\n            return { ...state, auth: { ...state.auth, data:{profile: {imageUrl: \"\", displayName: \"\"}}, errors: null, isAuth: false, loading: false} }\r\n        }\r\n    }\r\n\r\n    initStore(initialState, userActions);    \r\n}\r\n\r\nexport default configureAuth;"]},"metadata":{},"sourceType":"module"}